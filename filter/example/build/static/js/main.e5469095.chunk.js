(this["webpackJsonpfilter-example"]=this["webpackJsonpfilter-example"]||[]).push([[0],{19:function(e){e.exports=JSON.parse('{"filter":[{"name":"Departure Port","types":[{"name":"Airport","dataType":"AutoComplete","enabled":true,"dataSource":"Airport","validationMessage":"This field is required*"},{"name":"Airport Group","dataType":"AutoComplete","enabled":true,"dataSource":"AirportGroup","validationMessage":"This field is required*"},{"name":"City","dataType":"AutoComplete","enabled":true,"dataSource":"Airport","validationMessage":"This field is required*"},{"name":"City Group","dataType":"AutoComplete","enabled":true,"dataSource":"Airport","validationMessage":"This field is required*"},{"name":"Country","dataType":"AutoComplete","enabled":true,"dataSource":"Airport","validationMessage":"This field is required*"}],"field":[],"condition":[]},{"name":"Arrival Port","types":[{"name":"Airport","dataType":"AutoComplete","enabled":true,"dataSource":"Airport","validationMessage":"This field is required*"},{"name":"Airport Group","dataType":"AutoComplete","enabled":true,"dataSource":"Airport","validationMessage":"This field is required*"},{"name":"City","dataType":"AutoComplete","enabled":true,"dataSource":"Airport","validationMessage":"This field is required*"},{"name":"City Group","dataType":"AutoComplete","enabled":true,"dataSource":"Airport","validationMessage":"This field is required*"},{"name":"Country","dataType":"AutoComplete","enabled":true,"dataSource":"Airport","validationMessage":"This field is required*"}],"field":[],"condition":[]},{"name":"Date","dataType":"DateTime","enabled":true,"field":[{"column":"From Date & Time","value":""},{"column":"To Date & Time","value":""}],"types":[],"condition":[],"validationMessage":"This field is required*"},{"name":"Booking Profile","enabled":false,"dataType":"Text","types":[],"field":[],"condition":[],"validationMessage":"This field is required*"},{"name":"Flight Group","enabled":false,"dataType":"Text","types":[],"field":[],"condition":[],"validationMessage":"This field is required*"},{"name":"Flight No","enabled":false,"dataType":"Text","types":[],"field":[],"condition":[],"validationMessage":"This field is required*"},{"name":"Revenue","dataType":"Numeric","enabled":true,"condition":[{"value":"equals"},{"value":"not equals to"},{"value":"less than"},{"value":"greater than"},{"value":"less or equal"},{"value":"greater or equal"},{"value":"contains"},{"value":"does not match"},{"value":"starts with"}],"types":[],"field":[],"validationMessage":"This field is required*"},{"name":"Yeild","enabled":false,"dataType":"Text","types":[],"field":[],"condition":[],"validationMessage":"This field is required*"},{"name":"Service Recovery","enabled":false,"dataType":"Text","types":[],"field":[],"condition":[],"validationMessage":"This field is required*"},{"name":"Queued Bookings","enabled":false,"dataType":"Text","types":[],"field":[],"condition":[],"validationMessage":"This field is required*"},{"name":"Weight","enabled":false,"dataType":"Text","types":[],"field":[],"condition":[],"validationMessage":"This field is required*"},{"name":"Volume","enabled":false,"dataType":"Text","types":[],"field":[],"condition":[],"validationMessage":"This field is required*"},{"name":"Aircraft","enabled":false,"dataType":"Text","types":[],"field":[],"condition":[],"validationMessage":"This field is required*"},{"name":"Aircraft Classification","enabled":false,"dataType":"Text","types":[],"field":[],"condition":[],"validationMessage":"This field is required*"},{"name":"Flight Type","enabled":false,"dataType":"Text","types":[],"field":[],"condition":[],"validationMessage":"This field is required*"},{"name":"Flight Status","enabled":false,"dataType":"Text","types":[],"field":[],"condition":[],"validationMessage":"This field is required*"},{"name":"Segment Status","enabled":false,"dataType":"Text","types":[],"field":[],"condition":[],"validationMessage":"This field is required*"},{"name":"Milestone Status","enabled":false,"dataType":"Text","types":[],"field":[],"condition":[],"validationMessage":"This field is required*"}]}')},25:function(e,a,t){e.exports=t(40)},38:function(e,a,t){e.exports=t.p+"static/media/icon-save~bfVswhtX.b242042f.svg"},40:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),i=t(10),r=t.n(i),o=t(43),c=t(45),d=t(44),u=t(22),s=t(9),f=t(8),m=t(14);function p(e){var a=Object(n.useState)([]),t=a[0],i=a[1];Object(n.useEffect)((function(){i(e.autoCompleteArray)}),[e.autoCompleteArray]);var r=t.map((function(a,t){var n="";return!1===a.validated&&(n="text-danger"),l.a.createElement("div",{className:"filter__input",key:t},l.a.createElement("div",{className:"filter__input-title"},l.a.createElement("div",{className:"filter__label"},l.a.createElement("span",null,a.name),l.a.createElement("span",null,"\xa0>\xa0"),l.a.createElement("span",null,a.type)),l.a.createElement("div",{className:"filter__control"},l.a.createElement(o.a.Check,{type:"switch",label:"",className:a.type.concat(a.name),id:a.name.concat(a.type),checked:a.enabled,onChange:function(t){e.handleAutoCompleteEnabled(a)}}),l.a.createElement(f.a,{icon:s.c,type:"button",onClick:function(t){!function(a){e.deleteAutoCompleteElement(a)}(a)}}))),l.a.createElement("div",{className:"displayFlex"},l.a.createElement(u.Multiselect,{id:a.type.concat(a.name),disable:!a.enabled,options:a.objectArray,closeIcon:"close",displayValue:"key",className:"form-control",selectedValues:a.value,onSelect:function(t){!function(a,t,n){e.createAutoCompleteArray(n,a)}(t,t[t.length-1],a)}})),l.a.createElement("span",{id:"fieldWarning",className:n},a.warning))}));return l.a.createElement("div",null,r)}function v(e){var a=Object(n.useState)([]),t=a[0],i=a[1];Object(n.useEffect)((function(){i(e.dateTimesArray)}),[e.dateTimesArray]);var r=t.map((function(a,t){var n="";return!1===a.validated&&(n="text-danger"),l.a.createElement("div",{className:"filter__input",key:t},l.a.createElement("div",{className:"filter__input-title",key:1},l.a.createElement("div",{className:"filter__label"},l.a.createElement(o.a.Label,null,l.a.createElement("strong",null,a.name))),l.a.createElement("div",{className:"filter__control"},l.a.createElement(o.a.Check,{type:"switch",id:a.name,label:"",defaultChecked:a.enabled,onChange:function(t){e.handleDateTimeEnabled(a)}}),l.a.createElement(f.a,{className:"fontIcons",icon:s.c,onClick:function(t){!function(a){e.deleteDateTimeElement(a)}(a)}}))),a.field.map((function(t,n){return l.a.createElement("div",{key:n+"-"+t.name},l.a.createElement("div",{className:"displayFlex",key:n+","+t.name},l.a.createElement(o.a.Text,null,t.column)),l.a.createElement("div",{className:"filter__split",key:n},l.a.createElement("div",{className:"date-wrap"},l.a.createElement(o.a.Control,{disabled:!a.enabled,type:"datetime-local",value:t.value,className:t.name,onChange:function(n){e.createDateTimeArray(a,t.column,n.target.value)}}),l.a.createElement("span",{className:"date-button"},l.a.createElement("button",{type:"button"})))))})),l.a.createElement("span",{id:"fieldWarning",className:n},a.warning))}));return l.a.createElement("div",null,r)}function y(e){var a=Object(n.useState)([]),t=a[0],i=a[1];Object(n.useEffect)((function(){i(e.conditionsArray)}),[e.conditionsArray]);var r=t.map((function(a,t){var n="";return!1===a.validated&&(n="text-danger"),l.a.createElement("div",{className:"filter__input",key:t},l.a.createElement("div",{className:"filter__input-title"},l.a.createElement("div",{className:"filter__label"},l.a.createElement(o.a.Label,null,l.a.createElement("strong",null,a.name))),l.a.createElement("div",{className:"filter__control"},l.a.createElement(o.a.Check,{type:"switch",id:a.name,label:"",checked:a.enabled,onChange:function(t){e.handleCondionalEnabled(a)}}),l.a.createElement(f.a,{className:"fontIcons",icon:s.c,onClick:function(t){e.deleteConditionalElement(a)}}))),l.a.createElement("div",{onChange:function(t){e.createConditionalArray(a,t.target.value)}},l.a.createElement("div",{className:"displayFlex"},l.a.createElement(o.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(o.a.Text,{className:"text-muted"},Object.keys(a)[3]),l.a.createElement(o.a.Control,{disabled:!a.enabled,as:"select",defaultValue:a.value},a.condition.map((function(e,a){return l.a.createElement("option",{key:a},e.value)}))))),l.a.createElement("div",{className:"displayFlex"},l.a.createElement(o.a.Group,null,l.a.createElement(o.a.Text,{className:"text-muted"},Object.keys(a)[4]),l.a.createElement(o.a.Control,{disabled:!a.enabled,defaultValue:a.amount,required:!0,type:"number"})))),l.a.createElement("span",{id:"fieldWarning",className:n},a.warning))}));return l.a.createElement("div",null,r)}function h(e){var a=Object(n.useState)([]),t=a[0],i=a[1];Object(n.useEffect)((function(){i(e.textComponentsArray)}),[e.textComponentsArray]);var r=t.map((function(a,t){var n="";return!1===a.validated&&(n="text-danger"),l.a.createElement("div",{key:t},l.a.createElement("div",{className:"filter__input"},l.a.createElement("div",{className:"filter__input-title"},l.a.createElement("div",{className:"filter__label"},l.a.createElement("span",null,a.name)),l.a.createElement("div",{className:"filter__control"},l.a.createElement(o.a.Check,{type:"switch",label:"",id:a.name,checked:a.enabled,onChange:function(t){e.handleTextComponentEnabled(a)}}),l.a.createElement(f.a,{icon:s.c,type:"button",onClick:function(t){e.deleteTextComponentElement(a)}}))),l.a.createElement("div",{className:"displayFlex"},l.a.createElement("input",{id:a.name.concat(a.dataType),disabled:!a.enabled,type:"text",defaultValue:a.value,className:"form-control",onChange:function(t){e.createTextComponentsArray(a,t.target.value)}})),l.a.createElement("span",{id:"fieldWarning",className:n},a.warning)))}));return l.a.createElement("div",null,r)}var E=t(38),g=function(e){var a=Object(n.useState)("none"),t=a[0],i=a[1],r=Object(n.useState)(""),o=r[0],d=r[1],u=Object(n.useState)(""),s=u[0],f=u[1],m=Object(n.useState)(""),g=m[0],b=m[1],T=Object(n.useState)(""),A=T[0],C=T[1],w=Object(n.useState)(""),S=w[0],N=w[1],F=Object(n.useState)("none"),x=F[0],D=F[1],k=Object(n.useState)(""),O=k[0],j=k[1];Object(n.useEffect)((function(){C(e.emptyFilterWarning),N(e.emptyFilterClassName)}),[e.emptyFilterWarning,e.emptyFilterClassName]),Object(n.useEffect)((function(){b(e.saveWarningClassName),f(e.saveWarningLabel),i(e.showSavePopUp)}),[e.saveWarningClassName,e.saveWarningLabel,e.showSavePopUp]),Object(n.useEffect)((function(){D(e.recentFilterShow),j(e.filterShow)}),[e.recentFilterShow,e.filterShow]);var _=localStorage.getItem("savedFilters");(_=_?JSON.parse(_):[]).length>2&&(_=_.slice(_.length-2,_.length));var B=_.map((function(a,t){return l.a.createElement("div",{className:"recentFilters",key:t,onClick:function(t){e.addSavedFilters(a)}},Object.keys(a)[0])}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:x},className:"filter__content"},l.a.createElement("div",null,"Recent Filters"),B),l.a.createElement("div",{style:{display:O}},l.a.createElement("div",{className:"filter__title"},"Searched Filters",l.a.createElement("span",{className:"filter-count"},e.filterCount)),l.a.createElement("div",{className:"filter__content"},l.a.createElement(p,{name:e.name,type:e.type,enabled:e.enabled,dataType:e.dataType,options:e.options,autoCompleteArray:e.autoCompleteArray,deleteAutoCompleteElement:e.deleteAutoCompleteElement,handleAutoCompleteEnabled:e.handleAutoCompleteEnabled,createAutoCompleteArray:e.createAutoCompleteArray}),l.a.createElement(v,{dateTimesArray:e.dateTimesArray,deleteDateTimeElement:e.deleteDateTimeElement,handleDateTimeEnabled:e.handleDateTimeEnabled,createDateTimeArray:e.createDateTimeArray,addToday:e.addToday,addTomorrow:e.addTomorrow,addThisMonth:e.addThisMonth,addForteenDays:e.addForteenDays,addSevenDays:e.addSevenDays,addThisWeek:e.addThisWeek,addThirtyDays:e.addThirtyDays,lastDayChange:e.lastDayChange,nextDayChange:e.nextDayChange}),l.a.createElement(y,{conditionsArray:e.conditionsArray,handleCondionalEnabled:e.handleCondionalEnabled,createConditionalArray:e.createConditionalArray,deleteConditionalElement:e.deleteConditionalElement}),l.a.createElement(h,{textComponentsArray:e.textComponentsArray,deleteTextComponentElement:e.deleteTextComponentElement,createTextComponentsArray:e.createTextComponentsArray,handleTextComponentEnabled:e.handleTextComponentEnabled})),l.a.createElement("div",{className:"filter__btn"},l.a.createElement("div",{className:"filter__save"},l.a.createElement(c.a,{className:"button-save",variant:""},l.a.createElement("img",{src:E,onClick:e.openShowSavePopUp,alt:"save icon"}),l.a.createElement("span",null,"SAVE"))),l.a.createElement("div",{className:"btn-wrap"},l.a.createElement("span",{className:S},A),l.a.createElement(c.a,{variant:"",className:"reset",onClick:e.resetDrawer},"Reset"),l.a.createElement(c.a,{variant:"",className:"applyFilter",onClick:function(a){e.applyFilter(),e.deleteAutoCompleteElement({}),e.deleteConditionalElement({}),e.deleteDateTimeElement({}),e.deleteTextComponentElement({})}},"Apply Filter")),l.a.createElement("div",{style:{display:t},className:"popup--save"},l.a.createElement("h5",null,"Save the Filter"),l.a.createElement("span",{className:g},s),l.a.createElement("label",null,"Saved Filter Name"),l.a.createElement("input",{className:"txt",value:o,onChange:function(e){return function(e){d(e.target.value)}(e)}}),l.a.createElement("div",{className:"btn-wrap"},l.a.createElement("button",{className:"button",onClick:function(e){i("none"),f(""),b("")}},"Cancel"),l.a.createElement("button",{className:"button",onClick:function(a){e.saveFilter(o)}},"Save"))))))},b=[];function T(e){var a=Object(n.useState)([]),t=a[0],i=a[1],r=Object(n.useState)([]),c=r[0],u=r[1],s=Object(n.useState)([])[1],f=Object(n.useState)([])[1],p=Object(n.useState)("1")[1],v=Object(n.useState)([]),y=v[0],h=v[1];Object(n.useEffect)((function(){var a=[];i(e.filterData.filter),u(e.filterData.filter),e.filterData.filter.forEach((function(e){e.types&&e.types.forEach((function(e){a.push(e.name)}))})),s(a),f(a)}),[e.filterData.filter]);t.forEach((function(e){e.types&&b.push({name:e.name,accordianShow:""})}));var E=t.map((function(a,t){if(a.types.length){var n="";return y.forEach((function(e){e.name===a.name&&(n=e.accordianShow)})),l.a.createElement("div",{key:t},l.a.createElement(d.a,null,l.a.createElement(m.a,null,l.a.createElement(d.a.Toggle,{style:{fontWeight:a.weight},className:n,as:m.a.Header,eventKey:"1",onClick:function(e){var t,n;t=a.name,n=e.target.className,b.forEach((function(e){var a=b.indexOf(e);e.name===t&&(b[a]="show card-header"===n?{name:e.name,accordianShow:""}:{name:e.name,accordianShow:"show"})})),h(b),b=[]}},a.name),l.a.createElement(d.a.Collapse,{eventKey:"1"},l.a.createElement(m.a.Body,null,l.a.createElement("ul",{className:"firstAccordion",key:t},a.types&&a.types.map((function(t,n){return l.a.createElement("li",{style:{fontWeight:t.weight},onClick:function(n){e.fromLeftToRight(a.name,t.dataType,t.enabled,t.name,a.field,a.condition,t.dataSource,t.validationMessage,t.options)},key:n},t.name)}))))))))}return l.a.createElement("div",{key:t})})),g=t.map((function(a,t){return a.field.length?l.a.createElement("div",{className:"fieldHeads",key:t},l.a.createElement("li",{style:{fontWeight:a.weight},onClick:function(t){e.fromLeftToRight(a.name,a.dataType,a.enabled,a.types,a.field,a.condition,a.dataSource,a.validationMessage,a.options)}},a.name)):l.a.createElement("div",{key:t})})),T=t.map((function(a,t){return a.condition.length?l.a.createElement("div",{className:"conditionHeads",key:t},l.a.createElement("li",{style:{fontWeight:a.weight},onClick:function(t){e.fromLeftToRight(a.name,a.dataType,a.enabled,a.types,a.field,a.condition,a.dataSource,a.validationMessage,a.options)}},a.name)):l.a.createElement("div",{key:t})})),A=t.map((function(a,t){return a.condition.length||a.types.length||a.field.length?l.a.createElement("div",{key:t}):l.a.createElement("div",{className:"normalHeads",key:t},l.a.createElement("li",{style:{fontWeight:a.weight},onClick:function(t){e.fromLeftToRight(a.name,a.dataType,a.enabled,a.types,a.field,a.condition,a.dataSource,a.validationMessage,a.options)}},a.name))}));return l.a.createElement("div",null,l.a.createElement(o.a.Row,null,l.a.createElement(o.a.Control,{required:!0,type:"text",placeholder:"Search a Filter",defaultValue:"",className:"customControl",onChange:function(e){var a=[],n=[],l=e.target.value;t&&(a=c.filter((function(e){return e.types?(n=e.types.filter((function(e){return e.name&&e.name.toLowerCase().includes(l.toLowerCase())}))).length>0&&""!==l?(p("2"),!0):(p("1"),e.name&&e.name.toLowerCase().includes(l.toLowerCase())):e.name&&e.name.toLowerCase().includes(l.toLowerCase())}))),i(a),s(n)}})),l.a.createElement("div",{className:"leftDrawer"},l.a.createElement("div",null,E),l.a.createElement("div",null,g),l.a.createElement("div",null,T),l.a.createElement("div",null,A)))}var A,C,w=function(e){var a=Object(n.useState)(!1),t=a[0],i=a[1],r=Object(n.useRef)();Object(n.useEffect)((function(){var a=function(a){r.current&&!r.current.contains(a.target)&&(i(!1),e.handleListFilter())};return i(e.showFilter),document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}}),[e]);var o=localStorage.getItem("savedFilters"),c=(o=o?JSON.parse(o):[]).map((function(a,t){return l.a.createElement("div",{key:t},l.a.createElement("div",{className:"alignLeft"},l.a.createElement(f.a,{style:{marginLeft:"-54px"},icon:s.b}),l.a.createElement("div",{style:{marginLeft:"15px"},onClick:function(t){i(!1),e.handleListFilter(),e.addSavedFilters(a)}},Object.keys(a)[0])))}));return t?l.a.createElement("div",{className:"lists",ref:r},l.a.createElement("div",{className:"savedFilters"},l.a.createElement("div",{className:"text-muted"},"Saved Filters"),l.a.createElement("ul",{key:"",className:"leftSpace"},c))):l.a.createElement("div",null)},S=function(e){var a=Object(n.useState)(!1),t=a[0],i=a[1],r=Object(n.useState)([]),o=r[0],c=r[1],d=Object(n.useState)("none"),u=d[0],m=d[1];Object(n.useEffect)((function(){c(e.applyFilterChip.applyFilter),e.applyFilterChip.applyFilter&&e.applyFilterChip.applyFilter.length>0?m(""):m("none")}),[e.applyFilterChip]);var p=function(){i(!t)};return o?(C=o.length,A=o.map((function(a,t){return a.type?l.a.createElement("div",{className:"listContent",key:t,onClick:function(a){e.addAppliedFilters(o)}},l.a.createElement("span",null,a.name,":",a.type),a.value.map((function(e,a){return l.a.createElement("div",{key:a},e.value)}))):a.condition?l.a.createElement("div",{className:"listContent",key:t,onClick:function(a){e.addAppliedFilters(o)}},l.a.createElement("span",null,a.name),":",a.condition,a.amount):a.fieldValue?l.a.createElement("div",{className:"listContent",key:t,onClick:function(a){e.addAppliedFilters(o)}},l.a.createElement("span",null,a.fieldValue),a.value):l.a.createElement("div",{className:"listContent",key:t,onClick:function(a){e.addAppliedFilters(o)}},l.a.createElement("span",null,a.name),":",a.value)}))):A=l.a.createElement("div",null),l.a.createElement("div",{className:"list"},l.a.createElement("div",{className:"displayFlex"},l.a.createElement("div",{className:"alignLeft"},l.a.createElement(f.a,{icon:s.a,onClick:p}),l.a.createElement(w,{onSelectSavedFilter:e.onSelectSavedFilter,showFilter:t,handleListFilter:p,addSavedFilters:e.addSavedFilters,addingToFavourite:e.addingToFavourite}),l.a.createElement("div",{className:"leftSpace"},"All flights"))),l.a.createElement("div",{className:"secondList"},l.a.createElement("div",{className:"displayFlex"},l.a.createElement("span",{style:{display:u},className:"listContent"},"count:",C),A,l.a.createElement("div",{onClick:function(a){e.showDrawer()},className:"addFilter"},"+ Add Filter"))))};var N=function(e){var a=Object(n.useState)([]),t=a[0],i=a[1],r=Object(n.useState)([]),o=r[0],c=r[1],d=Object(n.useState)([]),u=d[0],s=d[1],f=Object(n.useState)([]),m=f[0],p=f[1],v=Object(n.useState)([]),y=v[0],h=v[1],E=Object(n.useState)([]),b=E[0],A=E[1],C=Object(n.useState)([]),w=C[0],N=C[1],F=Object(n.useState)([]),x=F[0],D=F[1],k=Object(n.useState)({}),O=k[0],j=k[1],_=Object(n.useState)(0),B=_[0],V=_[1],I=Object(n.useState)({}),M=I[0],q=I[1],L=Object(n.useState)("none"),W=L[0],R=L[1],J=Object(n.useState)(""),P=J[0],G=J[1],U=Object(n.useState)(""),H=U[0],Y=U[1],K=Object(n.useState)(""),Q=K[0],X=K[1],z=Object(n.useState)(""),Z=z[0],$=z[1],ee=Object(n.useState)("none"),ae=ee[0],te=ee[1],ne=Object(n.useState)(""),le=ne[0],ie=ne[1];Object(n.useEffect)((function(){q(e.filterData)}),[e.filterData]),Object(n.useEffect)((function(){var e;e=o.length+u.length+y.length+w.length,V(e)}),[o,u,y,w]);var re=function(){he(!1)},oe=function(e){M.filter.forEach((function(a){a.types.forEach((function(t){t.name===e.type&&e.name===a.name&&(t.weight=400)}))}));var a=[].concat(o),t=a.findIndex((function(a){return a.name===e.name&&a.type===e.type}));-1!==t?a.splice(t,1):a=[],c(a),a.forEach((function(e){M.filter.forEach((function(a){a.types&&a.name!==e.name&&700===a.weight&&(a.weight=400)}))}))},ce=function(e){M.filter.forEach((function(a){a.name===e.name&&(a.weight=400)})),M.filter.forEach((function(a){a.name===e.name&&(e.weight=400)}));var a=[].concat(u),t=a.findIndex((function(a){return a.name===e.name}));a.splice(t,1),a.forEach((function(e){e.field.forEach((function(e){e.value=""}))})),s(a),a=[],M.filter.forEach((function(a){a.name===e.name&&e.field.forEach((function(e){e.value=""}))})),e==={}&&p([])},de=function(e){var a=new Date(e);console.log(a);var t=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"numeric",seconds:"numeric"}).formatToParts(a),n=t[0].value,l=t[2].value;return t[4].value+"-"+n+"-"+l+"T"+t[6].value+":"+t[8].value},ue=function(e){M.filter.forEach((function(a){a.name===e.name&&(a.weight=400)}));var a=[].concat(y),t=a.findIndex((function(a){return a.name===e.name&&a.dataType===e.dataType}));-1!==t?a.splice(t,1):a=[],h(a)},se=function(e){M.filter.forEach((function(a){a.name===e.name&&(a.weight=400)}));var a=[].concat(w),t=a.findIndex((function(a){return a.name===e.name&&a.dataType===e.dataType}));-1!==t?a.splice(t,1):a=[],N(a)},fe=function(e){ie(""),te("none");var a=[],t=[],n=[],l=[],i=[];for(var r in e)e[r].forEach((function(e){for(var a in e)l.push(e[a])}));var o=[];l.forEach((function(e){e.forEach((function(e){i.push(e)}))})),i.forEach((function(e){if(M.filter.forEach((function(a){if(a.types.length){var t=a.types.findIndex((function(t){return t.name===e.type&&a.name===e.name}));-1!==t&&(o=a.types[t].options)}})),"AutoComplete"===e.dataType){var t=[].concat(a);if(t.length>0)-1===t.findIndex((function(a){return a.name===e.name&&e.type===a.type}))&&t.push({name:e.name,dataType:e.dataType,type:e.type,enabled:e.enabled,value:e.value,objectArray:o});else t.push({name:e.name,dataType:e.dataType,type:e.type,enabled:e.enabled,value:e.value,objectArray:o});a=t}})),c(a);var d=[];i.forEach((function(e){"DateTime"===e.dataType&&0===d.length&&d.push({name:e.name,dataType:e.dataType,enabled:e.enabled,field:[]})})),i.forEach((function(e){"DateTime"===e.dataType&&d.length>0&&d.forEach((function(a){a.field.push({column:e.fieldValue,value:e.value})}))})),s(d),i.forEach((function(e){if("Numeric"===e.dataType){var a=[].concat(t);0===a.length&&(a.push({name:e.name,dataType:e.dataType,enabled:e.enabled,condition:[],amount:e.amount,value:e.condition}),M.filter.forEach((function(e){"Numeric"===e.dataType&&e.condition.forEach((function(e){a.forEach((function(a){a.condition.push({value:e.value})}))}))}))),t=a}})),h(t),i.forEach((function(e){if("Text"===e.dataType){var a=[].concat(n);if(a.length>0)-1===a.findIndex((function(a){return a.name===e.name}))&&a.push({name:e.name,dataType:e.dataType,enabled:e.enabled,value:e.value});else a.push({name:e.name,dataType:e.dataType,enabled:e.enabled,value:e.value});n=a}})),N(n),he(!0)},me=function(){oe({}),ue({}),ce({}),se({}),j({}),te(""),ie("none")},pe=function(){var e=Object(n.useState)(!1),a=e[0],t=e[1],l=Object(n.useRef)(null),i=function(e){"Escape"===e.key&&t(!1)},r=function(e){l.current&&!l.current.contains(e.target)&&t(!1)};return Object(n.useEffect)((function(){return document.addEventListener("keydown",i,!0),document.addEventListener("click",r,!0),function(){document.removeEventListener("keydown",i,!0),document.removeEventListener("click",r,!0)}})),{ref:l,showApplyFilter:a,setApplyFilter:t}}(),ve=pe.ref,ye=pe.showApplyFilter,he=pe.setApplyFilter;return l.a.createElement("div",{ref:ve},ye&&l.a.createElement("div",{className:"filter--grid",ref:ve},l.a.createElement("div",{className:"filter__wrap"},l.a.createElement("div",{className:"filter__list"},l.a.createElement(T,{filterData:M,fromLeftToRight:function(e,a,t,n,l,i,r,d,f){if(R("none"),G(""),Y(""),$(""),X(""),"AutoComplete"===a){var m={name:e,type:n,dataType:a,enabled:t,objectArray:[]};M.filter.forEach((function(e){e.name===m.name&&(e.weight=700,e.types.forEach((function(e){e.name===m.type&&(e.weight=600)})))}));var p=[].concat(o);if(p.length>0)-1===p.findIndex((function(e){return e.name===m.name&&e.type===m.type}))&&p.push({name:e,type:n,dataType:a,enabled:t,objectArray:f,validated:!1,warning:d});else p.push({name:e,type:n,dataType:a,enabled:t,objectArray:f,validated:!1,warning:d});c(p),p=[]}if("DateTime"===a){var v={name:e,dataType:a,enabled:t,field:l,validated:!1,warning:d};M.filter.forEach((function(e){e.name===v.name&&(e.weight=700)}));var E=[].concat(u);if(E.length>0)-1===E.findIndex((function(e){return e.name===v.name&&e.field===v.field}))&&E.push({name:e,dataType:a,enabled:t,field:l,validated:!1,warning:d});else E.push({name:e,dataType:a,enabled:t,field:l,validated:!1,warning:d});s(E),E=[]}if("Numeric"===a){var g={name:e,dataType:a,enabled:t,condition:i,amount:"",validated:!1,warning:d};M.filter.forEach((function(e){e.name===g.name&&(e.weight=700)}));var b=[].concat(y);if(b.length>0)-1===b.findIndex((function(e){return e.name===g.name&&e.condition===g.condition}))&&b.push({name:e,dataType:a,enabled:t,condition:i,amount:"",validated:!1,warning:d});else b.push({name:e,dataType:a,enabled:t,condition:i,amount:"",validated:!1,warning:d});h(b),b=[]}if("Text"===a){var T={name:e,dataType:a,enabled:t,validated:!1,warning:d};M.filter.forEach((function(e){e.name===T.name&&(e.weight=700)}));var A=[].concat(w);if(A.length>0)-1===A.findIndex((function(e){return e.name===T.name&&e.dataType===T.dataType}))&&A.push({name:e,dataType:a,enabled:t,validated:!1,warning:d});else A.push({name:e,dataType:a,enabled:t,validated:!1,warning:d});N(A),A=[]}}})),l.a.createElement("div",{className:"filter__inputwrap"},l.a.createElement(g,{applyFilter:function(){if(B>0){$(""),X("");var a={applyFilterArray:[]},n={applyFilter:[]},l=[];t.length>0&&(t.forEach((function(e){n.applyFilter.push(e),l.push(Object.assign({},e))})),a.applyFilterArray.push({autoComplete:t})),m.length>0&&(m.forEach((function(e){n.applyFilter.push(e),l.push(Object.assign({},e))})),a.applyFilterArray.push({dateTime:m})),b.length>0&&(b.forEach((function(e){n.applyFilter.push(e),l.push(Object.assign({},e))})),a.applyFilterArray.push({conditional:b})),x.length>0&&(x.forEach((function(e){n.applyFilter.push(e),l.push(Object.assign({},e))})),a.applyFilterArray.push({textComponent:x})),j(n),l.forEach((function(e){delete e.dataType,delete e.enabled})),e.appliedFilters(l),n={},re()}else $("text-danger"),X("No Filter is being selected")},saveFilter:function(a){var n=[];if(a.length>0)if(t.length>0||m.length>0||b.length>0||x.length>0){var l={filter:[]};if(t.length>0){var i=[].concat(o);i.forEach((function(e){t.forEach((function(a){a.name===e.name&&a.type===e.type&&(e.validated=!0,e.warning="")}))})),c(i);var r=0;o.forEach((function(e){!1===e.validated&&r++})),0===r?l.filter.push({autoComplete:t}):(R(""),Y("text-danger"),G("Enter values in every field")),i=[]}else{var d=[].concat(o);d.forEach((function(e){e.validated=!1})),c(d),d=[]}if(m.length>0){var f=[].concat(u);f.forEach((function(e){m.forEach((function(a){a.name===e.name&&(e.validated=!0,e.warning="")}))})),s(f);var p=0;u.forEach((function(e){!1===e.validated&&p++})),0===p?l.filter.push({dateTime:m}):(R(""),Y("text-danger"),G("Enter values in every field")),f=[]}else{var v=[].concat(u);v.forEach((function(e){e.validated=!1})),s(v),v=[]}if(b.length>0){var E=[].concat(y);E.forEach((function(e){b.forEach((function(a){a.name===e.name&&(e.validated=!0,e.warning="")}))})),h(E);var g=0;y.forEach((function(e){!1===e.validated&&g++})),0===g?l.filter.push({conditional:b}):(R(""),Y("text-danger"),G("Enter values in every field")),E=[]}else{var T=[].concat(y);T.forEach((function(e){e.validated=!1})),h(T),T=[]}if(x.length>0){var A=[].concat(w);A.forEach((function(e){x.forEach((function(a){a.name===e.name&&(e.validated=!0,e.warning="")}))})),N(A);var C=0;A.forEach((function(e){!1===e.validated&&C++})),0===C?l.filter.push({textComponent:x}):(R(""),Y("text-danger"),G("Enter values in every field")),A=[]}else{var S=[].concat(w);S.forEach((function(e){e.validated=!1})),N(S),S=[]}if(l.filter.length>0){l[a]=l.filter,delete l.filter;var F=localStorage.getItem("savedFilters");(F=F?JSON.parse(F):[]).push(l),localStorage.setItem("savedFilters",JSON.stringify(F)),R("none"),Y(""),G(""),me()}}else R(""),Y("text-danger"),G("No filters selected or values entered");else R(""),Y("text-danger"),G("Enter a valid filterName");t.forEach((function(e){n.push(Object.assign({},e))})),m.forEach((function(e){n.push(Object.assign({},e))})),b.forEach((function(e){n.push(Object.assign({},e))})),x.forEach((function(e){n.push(Object.assign({},e))})),n.forEach((function(e){delete e.dataType,delete e.enabled})),e.savedFilters(n)},createAutoCompleteArray:function(e,a){R("none"),G(""),Y("");var n=[].concat(o),l=JSON.parse(JSON.stringify(e));l.value=a;var r=[].concat(t);if(r.length>0){var d=r.findIndex((function(e){return e.name===l.name&&e.type===l.type}));-1===d?r.push({name:l.name,type:l.type,dataType:l.dataType,enabled:l.enabled,value:l.value}):r[d].value=l.value,r.forEach((function(e){n.forEach((function(a){a.name===e.name&&a.type===e.type&&(a.validated=!0,a.warning="")}))}))}else r.push({name:l.name,type:l.type,dataType:l.dataType,enabled:l.enabled,value:l.value}),r.forEach((function(e){n.forEach((function(a){a.name===e.name&&a.type===e.type&&(a.validated=!0,a.warning="")}))}));c(n),n=[],i(r),r=[]},handleAutoCompleteEnabled:function(e){var a=[].concat(o),n=a.findIndex((function(a){return a.name===e.name&&a.type===e.type}));if(-1!==n&&(a[n].enabled=!a[n].enabled),c(a),t.length>0){var l=[].concat(t),r=l.findIndex((function(a){return a.name===e.name&&a.type===e.type}));l[r].enabled=!l[r].enabled,i(l),l=[]}},deleteAutoCompleteElement:oe,autoCompleteArray:o,dateTimesArray:u,deleteDateTimeElement:ce,handleDateTimeEnabled:function(e){var a=[].concat(u),t=a.findIndex((function(a){return a.name===e.name&&a.field===e.field}));if(-1!==t&&(a[t].enabled=!a[t].enabled),s(a),a=[],m.length>0){var n=[].concat(m),l=[];e.field.forEach((function(e){l.push(e.column)})),-1!==n.findIndex((function(a){return a.name===e.name&&l.includes(a.fieldValue)}))&&n.forEach((function(e){e.enabled=!e.enabled})),p(n),n=[]}},createDateTimeArray:function(e,a,t){R("none"),G(""),Y("");var n=[].concat(u);console.log(u),console.log(t);var l=JSON.parse(JSON.stringify(e));l.fieldValue=a,l.value=t;var i=[].concat(m);if(i.length>0){var r=i.findIndex((function(e){return e.fieldValue===l.fieldValue&&e.name===l.name}));-1===r?i.push({name:l.name,dataType:l.dataType,enabled:l.enabled,fieldValue:l.fieldValue,value:l.value}):i[r].value=l.value,i.forEach((function(e){n.forEach((function(a){a.name===e.name&&(a.validated=!0,a.warning="")}))}))}else i.push({name:l.name,dataType:l.dataType,enabled:l.enabled,fieldValue:l.fieldValue,value:l.value}),i.forEach((function(e){n.forEach((function(a){a.name===e.name&&(a.validated=!0,a.warning="")}))}));p(i),i=[],(n=[].concat(u)).length>0&&(n.forEach((function(e){e.field.forEach((function(e){e.column===a&&(e.value=t)}))})),s(n)),n=[]},addToday:function(){var e=new Date,a=de(e);console.log(a);var t=[].concat(u),n=[].concat(m);t.length>0&&(t.forEach((function(e){e.field.forEach((function(t){t.value=a,n.length>1?n.forEach((function(e){e.fieldValue===t.column&&(e.value=a)})):n.push({name:e.name,dataType:e.dataType,enabled:e.enabled,fieldValue:t.column,value:a})}))})),s(t),p(n))},addTomorrow:function(){var e=new Date,a=new Date;e.setDate(e.getDate()+1),a.setDate(a.getDate()+1),e=de(e),a=de(a);var t=[].concat(u),n=[].concat(m);t.length>0&&(t.forEach((function(t){t.field[0].value=e,t.field[1].value=a,t.field.forEach((function(e){n.length>1?n.forEach((function(a){a.fieldValue===e.column&&(a.value=e.value)})):n.push({name:t.name,dataType:t.dataType,enabled:t.enabled,fieldValue:e.column,value:e.value})}))})),s(t),p(n))},addThisMonth:function(){var e=new Date,a=new Date(e.getFullYear(),e.getMonth(),1),t=new Date(e.getFullYear(),e.getMonth()+1,0);a=de(a),t=de(t);var n=[].concat(u),l=[].concat(m);n.length>0&&(n.forEach((function(e){e.field[0].value=a,e.field[1].value=t,e.field.forEach((function(a){l.length>1?l.forEach((function(e){e.fieldValue===a.column&&(e.value=a.value)})):l.push({name:e.name,dataType:e.dataType,enabled:e.enabled,fieldValue:a.column,value:a.value})}))})),s(n),p(l))},addForteenDays:function(){var e=new Date,a=new Date;e.setDate(e.getDate()+1),a.setDate(a.getDate()+14),e=de(e),a=de(a);var t=[].concat(u),n=[].concat(m);t.length>0&&(t.forEach((function(t){t.field[0].value=e,t.field[1].value=a,t.field.forEach((function(e){n.length>1?n.forEach((function(a){a.fieldValue===e.column&&(a.value=e.value)})):n.push({name:t.name,dataType:t.dataType,enabled:t.enabled,fieldValue:e.column,value:e.value})}))})),s(t),p(n))},addSevenDays:function(){var e=new Date,a=new Date;e.setDate(e.getDate()+1),a.setDate(a.getDate()+7),e=de(e),a=de(a);var t=[].concat(u),n=[].concat(m);t.length>0&&(t.forEach((function(t){t.field[0].value=e,t.field[1].value=a,t.field.forEach((function(e){n.length>1?n.forEach((function(a){a.fieldValue===e.column&&(a.value=e.value)})):n.push({name:t.name,dataType:t.dataType,enabled:t.enabled,fieldValue:e.column,value:e.value})}))})),s(t),p(n))},addThisWeek:function(){var e=new Date,a=e.getDate()-e.getDay(),t=a+6,n=new Date(e.setDate(a)).toUTCString(),l=new Date(e.setDate(t)).toUTCString();n=de(n),l=de(l);var i=[].concat(u),r=[].concat(m);i.length>0&&(i.forEach((function(e){e.field[0].value=n,e.field[1].value=l,e.field.forEach((function(a){r.length>1?r.forEach((function(e){e.fieldValue===a.column&&(e.value=a.value)})):r.push({name:e.name,dataType:e.dataType,enabled:e.enabled,fieldValue:a.column,value:a.value})}))})),s(i),p(r))},addThirtyDays:function(){var e=new Date,a=new Date;e.setDate(e.getDate()+1),a.setDate(a.getDate()+30);var t=de(e),n=de(a),l=[].concat(u),i=[].concat(m);l.length>0&&(l.forEach((function(e){e.field[0].value=t,e.field[1].value=n,e.field.forEach((function(a){i.length>1?i.forEach((function(e){e.fieldValue===a.column&&(e.value=a.value)})):i.push({name:e.name,dataType:e.dataType,enabled:e.enabled,fieldValue:a.column,value:a.value})}))})),s(l),p(i))},lastDayChange:function(e){""===e&&(e=1);var a=new Date,t=new Date;"0"!==e&&(a.setDate(a.getDate()-parseInt(e)),t.setDate(t.getDate()-1)),a=de(a),t=de(t);var n=[].concat(u),l=[].concat(m);n.length>0&&(n.forEach((function(e){e.field[0].value=a,e.field[1].value=t,e.field.forEach((function(a){l.length>1?l.forEach((function(e){e.fieldValue===a.column&&(e.value=a.value)})):l.push({name:e.name,dataType:e.dataType,enabled:e.enabled,fieldValue:a.column,value:a.value})}))})),s(n),p(l))},nextDayChange:function(e){""===e&&(e=1);var a=new Date,t=new Date;"0"!==e&&(a.setDate(a.getDate()+1),t.setDate(t.getDate()+parseInt(e))),a=de(a),t=de(t);var n=[].concat(u),l=[].concat(m);n.length>0&&(n.forEach((function(e){e.field[0].value=a,e.field[1].value=t,e.field.forEach((function(a){l.length>1?l.forEach((function(e){e.fieldValue===a.column&&(e.value=a.value)})):l.push({name:e.name,dataType:e.dataType,enabled:e.enabled,fieldValue:a.column,value:a.value})}))})),s(n),p(l))},conditionsArray:y,handleCondionalEnabled:function(e){var a=[].concat(y),t=a.findIndex((function(a){return a.name===e.name&&a.condition===e.condition}));-1!==t&&(a[t].enabled=!a[t].enabled),h(a);var n=[];if((n=[].concat(b)).length>0){var l=n.findIndex((function(a){return a.name===e.name&&a.dataType===e.dataType}));n[l].enabled=!n[l].enabled}A(n),n=[]},createConditionalArray:function(e,a){R("none"),G(""),Y("");var t=[].concat(y),n=[];e.condition.forEach((function(e){n.push(e.value)}));var l=[].concat(b);if(l.length>0){var i=l.findIndex((function(a){return a.name===e.name&&a.dataType===e.dataType}));-1!==i&&(n.includes(a)?l[i].condition=a:l[i].amount=a),l.forEach((function(e){t.forEach((function(a){a.name===e.name&&(a.validated=!0,a.warning="")}))}))}else n.includes(a)?l.push({name:e.name,dataType:e.dataType,enabled:e.enabled,condition:a}):(l.push({name:e.name,dataType:e.dataType,enabled:e.enabled,condition:e.condition[0].value,amount:a}),l.forEach((function(e){t.forEach((function(a){a.name===e.name&&(a.validated=!0,a.warning="")}))})));A(l),l=[]},deleteConditionalElement:ue,textComponentsArray:w,deleteTextComponentElement:se,createTextComponentsArray:function(e,a){R("none"),G(""),Y("");var t=[].concat(w),n=[].concat(x);if(n.length>0){var l=n.findIndex((function(a){return a.name===e.name&&a.dataType===e.dataType}));-1===l?n.push({name:e.name,dataType:e.dataType,enabled:e.enabled,value:a}):n[l].value=a,n.forEach((function(e){t.forEach((function(a){a.name===e.name&&(a.validated=!0,a.warning="")}))}))}else n.push({name:e.name,dataType:e.dataType,enabled:e.enabled,value:a}),n.forEach((function(e){t.forEach((function(a){a.name===e.name&&(a.validated=!0,a.warning="")}))}));D(n),n=[]},handleTextComponentEnabled:function(e){var a=[].concat(w),t=a.findIndex((function(a){return a.name===e.name&&a.dataType===e.dataType}));-1!==t&&(a[t].enabled=!a[t].enabled),N(a),a=[];var n=[].concat(x);if(n.length>0){var l=n.findIndex((function(a){return a.name===e.name&&a.dataType===e.dataType}));-1!==l&&(n[l].enabled=!n[l].enabled)}D(n),n=[]},closeDrawer:re,resetDrawer:me,filterCount:B,saveWarningClassName:H,saveWarningLabel:P,showSavePopUp:W,emptyFilterClassName:Z,emptyFilterWarning:Q,openShowSavePopUp:function(){R("")},recentFilterShow:ae,filterShow:le,addSavedFilters:fe})))),l.a.createElement(S,{showDrawer:function(){he(!0)},applyFilterChip:O,addAppliedFilters:function(e){var a=[],t=[],n=[],l=[];e.forEach((function(e){if("AutoComplete"===e.dataType){var i=[].concat(a),r=function(e,a){var t=[];return M.filter.forEach((function(n){n.name===e&&n.types.forEach((function(e){e.name===a&&(t=[].concat(e.options))}))})),t}(e.name,e.type);if(i.length>0)-1===i.findIndex((function(a){return a.name===e.name&&e.type===a.type}))&&i.push({name:e.name,dataType:e.dataType,type:e.type,enabled:e.enabled,value:e.value,objectArray:r});else i.push({name:e.name,dataType:e.dataType,type:e.type,enabled:e.enabled,value:e.value,objectArray:r});a=i}else if("DateTime"===e.dataType){var o=[].concat(t);0===o.length&&(o.push({name:e.name,dataType:e.dataType,enabled:e.enabled,field:[]}),m.forEach((function(e){e.fieldValue&&o.forEach((function(a){a.field.push({column:e.fieldValue,value:e.value})}))}))),t=o}else if("Numeric"===e.dataType){var d=[].concat(n);0===d.length&&(d.push({name:e.name,dataType:e.dataType,enabled:e.enabled,condition:[],amount:e.amount,value:e.condition}),M.filter.forEach((function(e){"Numeric"===e.dataType&&e.condition.forEach((function(e){d.forEach((function(a){a.condition.push({value:e.value})}))}))}))),n=d}else{var u=[].concat(w);if(u.length>0)-1===u.findIndex((function(a){return a.name===e.name}))&&u.push({name:e.name,dataType:e.dataType,enabled:e.enabled,value:e.value});else u.push({name:e.name,dataType:e.dataType,enabled:e.enabled,value:e.value});l=u}c(a),s(t),h(n),N(l)})),he(!0)},addSavedFilters:fe,addingToFavourite:e.addingToFavourite}))},F=t(19);function x(){const e=[{key:"AAA",value:"AAA"},{key:"AAB",value:"AAB"},{key:"ABA",value:"ABA"},{key:"ABB",value:"ABB"},{key:"BBA",value:"BBA"},{key:"BAA",value:"BAA"},{key:"BBB",value:"BBB"}],a=[{key:"AAA",value:"AAA"},{key:"AAB",value:"AAB"},{key:"ABA",value:"ABA"},{key:"ABB",value:"ABB"},{key:"BBA",value:"BBA"},{key:"BAA",value:"BAA"},{key:"BBB",value:"BBB"}];F.filter.forEach(t=>{if(t.types)for(let n in t.types)"Airport"===t.types[n].dataSource?t.types[n].options=e:t.types[n].options=a});return l.a.createElement(N,{filterData:F,appliedFilters:e=>{console.log("appliedFilter:",e)},savedFilters:e=>{console.log("savedFilter:",e)},addingToFavourite:e=>{console.log(e)}})}t(39);r.a.render(l.a.createElement(x,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.e5469095.chunk.js.map